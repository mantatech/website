<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-02-07">

<title>manta - The New Frontier: Data Science in the Decentralized Era</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">manta</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../articles.html"> 
<span class="menu-text">Articles</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">The New Frontier: Data Science in the Decentralized Era</h1>
  <div class="quarto-categories">
    <div class="quarto-category">cloud</div>
    <div class="quarto-category">edge</div>
    <div class="quarto-category">decentralization</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 7, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>Data science, in its broadest sense, represents a fusion of multiple disciplines, combining data analysis, statistics, machine learning, and deep learning to extract insights and knowledge from data. Historically, the field of data science has progressed from early methods of recording and analyzing data to the development of complex algorithms and statistical models in the 20th century. The advent of modern computing gave birth to the term “data science” in the 1960s, but it wasn’t until the late 1990s and early 2000s that the field truly exploded, owing to the digital revolution and the exponential growth of data.</p>
<p>At its core, data science involves several key concepts: data analysis, machine learning, deep learning, and decision-making algorithms. Data analysis focuses on exploring and visualizing data to find patterns and insights. Machine learning, a subset of artificial intelligence, involves algorithms that enable computers to learn from and make predictions or decisions based on data. Deep learning, a more advanced subset of machine learning, uses neural network architectures to model complex patterns in data. These technologies have been pivotal in advancing numerous fields, such as healthcare for predictive diagnostics, energy management in optimizing consumption, and telecommunications in enhancing network efficiencies.</p>
<p>One of the most significant impacts of data science is seen in its application to Internet of Things (IoT) devices. In healthcare, for example, wearable devices gather health metrics, enabling personalized medicine. In smart cities, sensors collect data to optimize traffic flow and reduce energy consumption. These applications, however, have traditionally relied on centralized data processing, where data from various sources are aggregated in a central cloud-based system for analysis.</p>
<p>This centralization largely owes its prevalence to the advantages of cloud computing: powerful computational resources, large storage capacities, and centralized control over data and processes. These benefits have shaped the traditional landscape of data science, where massive data sets are processed and analyzed in centralized servers.</p>
<p>However, this centralized approach also brings challenges, particularly in terms of data privacy, security, and sovereignty. The need to transmit data to a central location raises concerns about data breaches and unauthorized access. Additionally, centralization often conflicts with legal and regional regulations regarding data residency and sovereignty. These challenges have led to a growing interest in decentralized data science approaches, where data is processed and analyzed at or near its source, often referred to as “edge computing.” This shift promises enhanced privacy, reduced latency, and compliance with local data governance policies, setting the stage for the next era of data science.</p>
<section id="decentralization-the-why-and-the-how" class="level2">
<h2 class="anchored" data-anchor-id="decentralization-the-why-and-the-how">Decentralization: The Why and The How</h2>
<p>In this chapter, we delve into the critical factors prompting a shift from traditional centralized data models to more decentralized approaches in data science. Centralization, while beneficial in many aspects, raises significant concerns regarding data privacy, security, and sovereignty. These issues, coupled with the burgeoning costs associated with cloud computing - both in terms of energy consumption and financial expenditures - highlight the need for change. Addressing these challenges, we explore the emerging paradigms of Edge Computing and Distributed Learning. Edge Computing offers a novel approach by processing data at or near its source, significantly enhancing efficiency and reducing latency. On the other hand, Distributed Learning capitalizes on the collective power of decentralized data sources, enabling more robust and scalable learning solutions. Together, these technologies not only address the limitations of centralization but also unlock new potentials in the realm of data science.</p>
<section id="data-privacy-security-and-sovereignty-the-imperative-for-change" class="level3">
<h3 class="anchored" data-anchor-id="data-privacy-security-and-sovereignty-the-imperative-for-change">Data Privacy, Security, and Sovereignty: The Imperative for Change</h3>
<p>In the realm of centralized data models, where vast amounts of data are aggregated and processed in cloud-based infrastructures, the challenges of data privacy, security, and sovereignty have become increasingly pronounced. The centralized nature of these systems often makes them attractive targets for malicious activities, leading to significant security concerns. Data breaches in cloud environments have become a notable concern, with recent studies <span class="citation" data-cites="cloudSecurity2023"><a href="#ref-cloudSecurity2023" role="doc-biblioref">[1]</a></span> revealing that 39% of businesses experienced a data breach in their cloud environment in the past year. This figure represents a concerning increase from the previous year’s 35%. Such breaches are often attributed to vulnerabilities like cloud misconfigurations or provider-related issues. The implications of these breaches are substantial, not just in terms of immediate data loss or unauthorized access, but also in the time and resources required for recovery. For a significant percentage of businesses, it took more than half a day to restore operations after such breaches.</p>
<p>Privacy concerns are further heightened by the increasing scrutiny on how personal data is handled, especially in the wake of high-profile scandals involving the misuse of user data. Regulations such as the European Union’s General Data Protection Regulation <span class="citation" data-cites="GDPR2024"><a href="#ref-GDPR2024" role="doc-biblioref">[2]</a></span> have emerged as responses to these concerns, enforcing stricter data protection standards. Addressing data privacy, GDPR stands as a crucial regulatory framework that has significantly influenced data management practices. GDPR mandates stringent data protection standards, challenging traditional data handling methods and pushing for more secure and privacy-focused approaches.</p>
<p>Moreover, data sovereignty emerges as a crucial issue, particularly for companies bound by national regulations on data storage and processing. The reliance on cloud providers, often located in different jurisdictions, complicates compliance with these regulations. This concern is not just a matter of legal compliance but also touches on national and economic interests, where data is increasingly viewed as a strategic asset.</p>
<p>Given these concerns, the centralized cloud-based model, while offering scalability and computational power, faces increasing challenges due to issues surrounding security, privacy, and data sovereignty. These challenges underscore the need for a paradigm shift towards more decentralized approaches in data handling and processing.</p>
</section>
<section id="the-burgeoning-costs-energy-and-financial-implications-of-cloud-computing" class="level3">
<h3 class="anchored" data-anchor-id="the-burgeoning-costs-energy-and-financial-implications-of-cloud-computing">The Burgeoning Costs: Energy and Financial Implications of Cloud Computing</h3>
<p>Cloud computing, hailed for its scalability, computing power, and high availability, has revolutionized how organizations manage and process data. This technology allows businesses to rapidly scale resources up or down, meeting demand without the need for substantial upfront investment in physical infrastructure. This flexibility, combined with robust computational capabilities and round-the-clock availability, makes cloud computing an attractive option for data storage and processing.</p>
<p>However, this convenience comes at a significant cost, both environmentally and economically. The energy consumption of data centers, key components of cloud infrastructure, has been on a steep rise <span class="citation" data-cites="greenComputing2022"><a href="#ref-greenComputing2022" role="doc-biblioref">[3]</a></span>. From consuming 200 terawatt-hours (TWh) in 2016, it is projected to escalate to an astonishing 2967 TWh by 2030. This sharp increase in energy demand inevitably leads to higher CO2 emissions, especially in regions where the energy mix is heavily reliant on fossil fuels.</p>
<p>The trend towards horizontal scaling in cloud computing, while efficient for handling varying workloads, is particularly energy-intensive for complex tasks. Hyperscale data centers, which form the backbone of many cloud services, have seen their energy usage nearly quadruple from 2015 to 2023, becoming the predominant consumers of data center energy globally.</p>
<p>The financial implications are equally significant. Despite the challenges posed by the COVID-19 pandemic, the global market for Internet Data Centers is expected to grow from US$59.3 billion in 2020 to US$143.4 billion by 2027, with a compound annual growth rate (CAGR) of 13.4%. This growth, while indicative of the increasing reliance on cloud services, also reflects the rising operational costs associated with these services.</p>
<p>Another concerning aspect is server utilization efficiency. Many corporate servers operate at only 10–15% of their capacity, and about 30% are ‘zombie’ servers – inactive yet consuming power. This inefficiency is highlighted by the Power Usage Effectiveness (PUE) metric, which measures the energy efficiency of data centers. In 2021, the average annual PUE was 1.57, indicating a stagnation in improving energy efficiency in data centers over the past years.</p>
<p>Furthermore, the traditional methods of establishing TCP/IP connections between servers and embedded devices, either through embedded TCP/IP stacks or via gateways, add to the complexity and energy demands of data management.</p>
<p>Embedded data centers, which are smaller and less known, consume approximately half of all data center energy in the United States, despite often having less than 50 kW of IT demand. This underlines the widespread energy consumption across various types of data centers, not just the large-scale ones.</p>
<p>In light of these figures and trends, it becomes clear that the current trajectory of cloud computing and data center energy consumption is unsustainable. The increasing volume of data and the growing complexity of analytics, such as deeper and more sophisticated neural networks, exacerbate this situation. Therefore, it is imperative to reconsider our approach to data valorization. We must move towards more intelligent, efficient ways of processing and analyzing data, rather than defaulting to the cloud for all computational needs. This shift is not just a matter of optimizing resources; it is a necessary step towards a more sustainable and economically viable future in data science.</p>
</section>
<section id="unlocking-potential-with-edge-computing-and-distributed-learning" class="level3">
<h3 class="anchored" data-anchor-id="unlocking-potential-with-edge-computing-and-distributed-learning">Unlocking Potential with Edge Computing and Distributed Learning</h3>
<p>As we navigate the complexities and limitations of cloud-centric data science, particularly the challenges around data privacy, security, sovereignty, and the escalating costs of energy and financial resources, the need for innovative solutions becomes increasingly apparent. This is where Edge Computing and Distributed Learning emerge as pivotal enablers of decentralization, offering new pathways to address these challenges while unlocking the untapped potential of data science.</p>
<section id="the-role-of-edge-computing-in-decentralization" class="level4">
<h4 class="anchored" data-anchor-id="the-role-of-edge-computing-in-decentralization">The Role of Edge Computing in Decentralization</h4>
<p>Edge Computing has emerged as a transformative force in decentralized data science, driven by significant advancements in the capabilities of devices at the network’s edge. This evolution can be attributed to several key factors:</p>
<ul>
<li><strong>Increased Device Power</strong>: Modern devices, from smartphones to IoT sensors, have seen remarkable improvements in processing power. This allows them to handle complex computations locally, rather than offloading the task to distant cloud servers.</li>
<li><strong>Enhanced Storage Capacities</strong>: The expansion of storage capabilities in edge devices means more data can be processed and analyzed on-site, reducing the need for constant data transmission to central servers.</li>
<li><strong>Network Performance Improvements</strong>: The advent of high-speed networking technologies like 5G has been instrumental. Faster network speeds facilitate quicker data transfer between edge devices and central systems when needed, ensuring that latency is kept to a minimum.</li>
</ul>
<p>Edge computing has found diverse applications in various fields where real-time data processing is crucial. Some noteworthy examples include:</p>
<ul>
<li><strong>Smartphones for Next-Word Prediction</strong>: Devices like smartphones use edge computing for tasks such as next-word prediction in keyboard apps. This is a classic example of localized data processing that enhances user experience while maintaining data privacy.</li>
<li><strong>Healthcare Monitoring Devices</strong>: Wearable devices that monitor health metrics process data in real-time, providing immediate feedback and alerts. This is crucial for patient monitoring and preventive healthcare.</li>
<li><strong>Smart City Infrastructure</strong>: Edge computing enables smart city technologies to process data from sensors in real-time, optimizing traffic flow, energy usage, and public safety systems without significant delays.</li>
<li><strong>Industrial IoT</strong>: In manufacturing, edge devices monitor equipment performance, predict maintenance needs, and optimize production processes, directly contributing to increased efficiency and reduced downtime.</li>
</ul>
<p>While edge computing offers numerous benefits, it also presents unique challenges:</p>
<ul>
<li><strong>Resource Availability</strong>: Edge devices often serve primary functions other than data processing. Balancing these functions with additional computational tasks can be challenging, especially when resources are limited.</li>
<li><strong>Network Issues</strong>: Despite advancements, network connectivity can still be inconsistent, especially in remote or underdeveloped areas. This can impact the performance and reliability of edge computing applications.</li>
<li><strong>Data Management and Security</strong>: Managing and securing data across a multitude of edge devices pose significant challenges. Ensuring data integrity and protecting against breaches in such a distributed environment requires robust security protocols.</li>
</ul>
<p>In conclusion, edge computing plays a vital role in the decentralization of data science. It leverages the growing capabilities of edge devices and network improvements to bring computation closer to data sources. While offering faster processing, enhanced privacy, and reduced bandwidth usage, it also introduces complexities in resource management and security that need careful consideration</p>
</section>
<section id="the-power-of-distributed-learning" class="level4">
<h4 class="anchored" data-anchor-id="the-power-of-distributed-learning">The Power of Distributed Learning</h4>
<p>Initially developed to scale learning processes within datacenters across multiple computers, Distributed Learning was designed to expedite the learning process. This scalability was achieved by parallelizing computations and data processing, thereby reducing the time required for model training. A classic example of this approach is the training of large-scale deep learning models in data centers, where computational tasks are distributed across multiple GPUs or servers to accelerate the training process.</p>
<p>As the field evolved, new methods emerged for learning models without centralizing all data in one location. This shift was driven by both practical and privacy considerations. One significant development in this domain is Federated Learning, a subfield of decentralized data science. Federated Learning is inspired by Distributed Learning but takes a novel approach. Instead of aggregating data at a central server, Federated Learning algorithms train models across multiple decentralized devices or servers, each holding its local data. This approach not only preserves data privacy by keeping sensitive information at its source but also reduces the need for data transfer, addressing bandwidth and latency issues.</p>
<p>However, this approach also introduces new challenges, particularly in ensuring model consistency and dealing with non-IID (independently and identically distributed) data across different devices. Additionally, security concerns such as safeguarding against model poisoning and ensuring reliable and secure communication between devices are critical.</p>
<p>In summary, Distributed Learning, and specifically Federated Learning, represents a paradigm shift in the way machine learning models are trained. By leveraging the power of distributed systems, it offers a more scalable, efficient, and privacy-preserving approach to machine learning. This evolution not only addresses the limitations of traditional, centralized learning models but also opens up new possibilities for data science applications in a privacy-conscious world.</p>



</section>
</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body" data-entry-spacing="0" role="list">
<div id="ref-cloudSecurity2023" class="csl-entry" role="listitem">
<div class="csl-left-margin">[1] </div><div class="csl-right-inline">T. Group, <span>“2023 cloud security: Cyberattacks and data breaches,”</span> <em>Thales Group Newsroom</em>, 2023, Available: <a href="https://cpl.thalesgroup.com/about-us/newsroom/2023-cloud-security-cyberattacks-data-breaches-press-release">https://cpl.thalesgroup.com/about-us/newsroom/2023-cloud-security-cyberattacks-data-breaches-press-release</a></div>
</div>
<div id="ref-GDPR2024" class="csl-entry" role="listitem">
<div class="csl-left-margin">[2] </div><div class="csl-right-inline"><span>“GDPR - general data protection regulation.”</span> <a href="https://gdpr-info.eu/" class="uri">https://gdpr-info.eu/</a>, 2024.</div>
</div>
<div id="ref-greenComputing2022" class="csl-entry" role="listitem">
<div class="csl-left-margin">[3] </div><div class="csl-right-inline">J. Doe and J. Smith, <span>“The environmental impact of cloud computing,”</span> <em>Journal of Green Technology</em>, vol. 10, no. 2, pp. 123–145, 2022, doi: <a href="https://doi.org/10.1007/s10586-022-03713-0">10.1007/s10586-022-03713-0</a>.</div>
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright © Manta, Inc.&nbsp;2024. All Rights Reserved</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>This page is built with ❤️ and <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>